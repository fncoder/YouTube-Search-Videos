"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":_typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_video_buttons=require("./video_buttons.js"),_video_buttons2=_interopRequireDefault(_video_buttons),_video_list_item=require("./video_list_item.js"),_video_list_item2=_interopRequireDefault(_video_list_item),app=document.querySelector("#root"),FormApp=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={inputValue:"",videoData:void 0,tokenData:void 0,itemStatus:!1,id:void 0},e.loadVideo=e.loadVideo.bind(e),e.nextToken=e.nextToken.bind(e),e.updateKeyword=e.updateKeyword.bind(e),e.keyword=e.keyword.bind(e),e}return _inherits(t,e),_createClass(t,[{key:"updateKeyword",value:function(e){this.setState({inputValue:e.target.value})}},{key:"keyword",value:function(e){var t=this;13===e.keyCode&&""!==this.state.inputValue&&fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&q="+this.state.inputValue+"&type=video&key=AIzaSyBSoKMX-NlPdtRGGal-_p8yxR2SrA66_ks").then(function(e){return e.json()}).then(function(e){t.setState({videoData:e,itemStatus:!0,id:void 0})})}},{key:"loadVideo",value:function(e){"IMG"!==e.target.tagName&&"title-description"!==e.target.className||this.setState({id:parseFloat(e.currentTarget.id)})}},{key:"nextToken",value:function(e){var t=this,a=void 0===this.state.tokenData||this.state.itemStatus?this.state.videoData[""+e]:this.state.tokenData[""+e];fetch("https://www.googleapis.com/youtube/v3/search?pageToken="+a+"&part=snippet&q="+this.state.inputValue+"&type=video&key=AIzaSyBSoKMX-NlPdtRGGal-_p8yxR2SrA66_ks").then(function(e){return e.json()}).then(function(e){t.setState({tokenData:e,itemStatus:!1,id:void 0})})}},{key:"render",value:function(){var e=null,t=null;return void 0!==this.state.videoData&&(e=void 0===this.state.tokenData||this.state.itemStatus?_react2["default"].createElement(_video_list_item2["default"],{idVideo:this.state.id,loadVideo:this.loadVideo,data:this.state.videoData}):_react2["default"].createElement(_video_list_item2["default"],{idVideo:this.state.id,loadVideo:this.loadVideo,data:this.state.tokenData}),t=_react2["default"].createElement(_video_buttons2["default"],{currentData:void 0!==this.state.tokenData&&!this.state.itemStatus&&this.state.tokenData,nextToken:this.nextToken})),_react2["default"].createElement("div",{className:"wrapper-app"},_react2["default"].createElement("div",{className:"react-app"},_react2["default"].createElement("div",{className:"react-app__top"},_react2["default"].createElement("header",{className:"react-app__header"},_react2["default"].createElement("h2",{className:"react-app__title"},"Search ",_react2["default"].createElement("span",{className:"text-color"},"Videos"))),_react2["default"].createElement("input",{value:this.state.inputValue,onChange:this.updateKeyword,onKeyDown:this.keyword,type:"text",className:"search",placeholder:"Search YouTube"}),_react2["default"].createElement("div",{className:"titles-box"},_react2["default"].createElement("p",{className:"react-app_subtitle"},"Search amazing videos for free"),_react2["default"].createElement("p",{className:"react-app_subtitle"},"Search amazing videos for free"))),_react2["default"].createElement("ul",{className:"videos"},e,t)))}}]),t}(_react2["default"].Component);_reactDom2["default"].render(_react2["default"].createElement(FormApp,null),app);